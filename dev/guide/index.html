<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Guide · PairPlots.jl</title><meta name="title" content="Guide · PairPlots.jl"/><meta property="og:title" content="Guide · PairPlots.jl"/><meta property="twitter:title" content="Guide · PairPlots.jl"/><meta name="description" content="Documentation for PairPlots.jl."/><meta property="og:description" content="Documentation for PairPlots.jl."/><meta property="twitter:description" content="Documentation for PairPlots.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/theme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="PairPlots.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">PairPlots.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../getting-started/">Getting Started</a></li><li class="is-active"><a class="tocitem" href>Guide</a><ul class="internal"><li><a class="tocitem" href="#Single-Series"><span>Single Series</span></a></li><li><a class="tocitem" href="#Truth-Lines"><span>Truth Lines</span></a></li><li><a class="tocitem" href="#Trend-Lines"><span>Trend Lines</span></a></li><li><a class="tocitem" href="#Customize-Axes"><span>Customize Axes</span></a></li><li><a class="tocitem" href="#Adding-a-title"><span>Adding a title</span></a></li><li><a class="tocitem" href="#Layouts"><span>Layouts</span></a></li><li><a class="tocitem" href="#Multiple-Series"><span>Multiple Series</span></a></li></ul></li><li><a class="tocitem" href="../chains/">MCMCChains</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Guide</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/sefffal/PairPlots.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/sefffal/PairPlots.jl/blob/master/docs/src/guide.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Guide"><a class="docs-heading-anchor" href="#Guide">Guide</a><a id="Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Guide" title="Permalink"></a></h1><p>This guide demonstrates the usage of PairPlots and shows several ways you can customize it to your liking.</p><p>Set up:</p><pre><code class="language-julia hljs">using CairoMakie
using PairPlots
using DataFrames</code></pre><p>CairoMakie is great for making high quality static figures. Try GLMakie or WGLMakie for interactive plots!</p><p>We will use DataFrames here to wrap our tables and provide pleasant table listings. You can use any Tables.jl compatible source, including simple named tuples of vectors for each column.</p><h2 id="Single-Series"><a class="docs-heading-anchor" href="#Single-Series">Single Series</a><a id="Single-Series-1"></a><a class="docs-heading-anchor-permalink" href="#Single-Series" title="Permalink"></a></h2><p>Let&#39;s create a basic table of data to vizualize.</p><pre><code class="language-julia hljs">N = 100_000
α = [2randn(N÷2) .+ 6; randn(N÷2)]
β = [3randn(N÷2); 2randn(N÷2)]
γ = randn(N)
δ = β .+ 0.6randn(N)

df = DataFrame(;α, β, γ, δ)</code></pre><div><div style = "float: left;"><span>8×4 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">α</th><th style = "text-align: left;">β</th><th style = "text-align: left;">γ</th><th style = "text-align: left;">δ</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">4.73663</td><td style = "text-align: right;">1.42373</td><td style = "text-align: right;">-2.02078</td><td style = "text-align: right;">1.27962</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">6.50616</td><td style = "text-align: right;">-0.152541</td><td style = "text-align: right;">-0.357724</td><td style = "text-align: right;">-0.637644</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">8.57457</td><td style = "text-align: right;">4.36112</td><td style = "text-align: right;">1.76802</td><td style = "text-align: right;">4.47833</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">5.06351</td><td style = "text-align: right;">-1.78734</td><td style = "text-align: right;">1.0246</td><td style = "text-align: right;">-2.19542</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">7.17514</td><td style = "text-align: right;">-4.05454</td><td style = "text-align: right;">-0.204231</td><td style = "text-align: right;">-4.40184</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: right;">7.44254</td><td style = "text-align: right;">-2.827</td><td style = "text-align: right;">1.95027</td><td style = "text-align: right;">-3.8134</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: right;">1.32472</td><td style = "text-align: right;">2.98209</td><td style = "text-align: right;">1.23573</td><td style = "text-align: right;">2.21768</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: right;">8.63561</td><td style = "text-align: right;">5.11115</td><td style = "text-align: right;">1.81585</td><td style = "text-align: right;">4.45967</td></tr></tbody></table></div><p>We can plot this data directly using <code>pairplot</code>, and add customizations iteratively.</p><pre><code class="language-julia hljs">pairplot(df)</code></pre><img src="725be747.png" alt="Example block output"/><p>We can display a full grid of plots if we want:</p><pre><code class="language-julia hljs">pairplot(df, fullgrid=true)</code></pre><img src="f6a192b7.png" alt="Example block output"/><p>Override the axis labels:</p><pre><code class="language-julia hljs">pairplot(
    df,
    labels = Dict(
        # basic string
        :α =&gt; &quot;parameter 1&quot;,
        # Makie rich text
        :β =&gt; rich(&quot;parameter 2&quot;, font=:bold, color=:blue),
        # LaTeX String
        :γ =&gt; L&quot;\frac{a}{b}&quot;,
    )
)</code></pre><img src="8f52eb51.png" alt="Example block output"/><p>Let&#39;s move onto more complex examples. The full syntax of the <code>pairplot</code> function is:</p><pre><code class="language-julia hljs">pairplot(
    PairPlots.Series(source) =&gt; (::PairPlots.VizType...),
)</code></pre><p>That is, it accepts a list of pairs of <code>PairPlots.Series</code> <code>=&gt;</code> a tuple of &quot;vizualiation layers&quot;. As we&#39;ll see later on, you can pass keyword arguments with a series, or a specific vizualization layer to customize their behaviour and appearance. If you don&#39;t need to adjust any parameters for a whole series, you can just pass in a data source and PairPlots will wrap it for you:</p><pre><code class="language-julia hljs">pairplot(
    source =&gt; (::PairPlots.VizType...),
)</code></pre><p>Let&#39;s see how this works by iteratively building up the default vizualiation. First, create a basic histogram plot:</p><pre><code class="language-julia hljs">pairplot(
    df =&gt; (PairPlots.Hist(),) # note the comma
)</code></pre><img src="0745ae06.png" alt="Example block output"/><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>A tuple or list of vizualization types is required, even if you just want one. Make sure to include the comma in these examples.</p></div></div><p>Or, a histogram with hexagonal binning:</p><pre><code class="language-julia hljs">pairplot(
    df =&gt; (PairPlots.HexBin(),)
)</code></pre><img src="b45d7767.png" alt="Example block output"/><p>Scatter plots:</p><pre><code class="language-julia hljs">pairplot(
    df =&gt; (PairPlots.Scatter(),)
)</code></pre><img src="cab9951e.png" alt="Example block output"/><p>Filled contour plots:</p><pre><code class="language-julia hljs">pairplot(
    df =&gt; (PairPlots.Contourf(),)
)</code></pre><img src="b4ddc64f.png" alt="Example block output"/><p>Outlined contour plots:</p><pre><code class="language-julia hljs">pairplot(
    df =&gt; (PairPlots.Contour(),)
)</code></pre><img src="aa31e5e8.png" alt="Example block output"/><p>Now let&#39;s combine a few plot types.  Scatter and contours:</p><pre><code class="language-julia hljs">pairplot(
    df =&gt; (PairPlots.Scatter(), PairPlots.Contour())
)</code></pre><img src="9ef1c403.png" alt="Example block output"/><p>Scatter and contours, but hiding points above <span>$2\sigma$</span>:</p><pre><code class="language-julia hljs">pairplot(
    df =&gt; (PairPlots.Scatter(filtersigma=2), PairPlots.Contour())
)</code></pre><img src="c4173730.png" alt="Example block output"/><p>Placing a HexBin series underneath:</p><pre><code class="language-julia hljs">pairplot(
    df =&gt; (
        PairPlots.HexBin(colormap=Makie.cgrad([:transparent, :black])),
        PairPlots.Scatter(filtersigma=2, color=:black),
        PairPlots.Contour(color=:black)
    )
)</code></pre><img src="ad705028.png" alt="Example block output"/><h3 id="Margin-plots"><a class="docs-heading-anchor" href="#Margin-plots">Margin plots</a><a id="Margin-plots-1"></a><a class="docs-heading-anchor-permalink" href="#Margin-plots" title="Permalink"></a></h3><p>We can add additional vizualization layers to the diagonals of the plots using the same syntax.</p><pre><code class="language-julia hljs">pairplot(
    df =&gt; (
        PairPlots.HexBin(colormap=Makie.cgrad([:transparent, :black])),
        PairPlots.Scatter(filtersigma=2, color=:black),
        PairPlots.Contour(color=:black),

        # New:
        PairPlots.MarginDensity()
    )
)</code></pre><img src="faaabd95.png" alt="Example block output"/><p>Adjust margin density KDE bandwidth (note: this multiplies the default bandwidth. A value larger than 1 increases smoothing, less than 1 decreases smoothing).</p><pre><code class="language-julia hljs">pairplot(
    df =&gt; (
        PairPlots.HexBin(colormap=Makie.cgrad([:transparent, :black])),
        PairPlots.Scatter(filtersigma=2, color=:black),
        PairPlots.Contour(color=:black),

        PairPlots.MarginDensity(bandwidth=0.5)
    )
)</code></pre><img src="cb0fad4c.png" alt="Example block output"/><p>Adding a histgoram instead of a smoothed kernel density estimate:</p><pre><code class="language-julia hljs">pairplot(
    df =&gt; (
        PairPlots.HexBin(colormap=Makie.cgrad([:transparent, :black])),
        PairPlots.Scatter(filtersigma=2, color=:black),
        PairPlots.Contour(color=:black),

        # New:
        PairPlots.MarginHist(),
        PairPlots.MarginConfidenceLimits(),
    )
)</code></pre><img src="9a2cb8e2.png" alt="Example block output"/><h2 id="Truth-Lines"><a class="docs-heading-anchor" href="#Truth-Lines">Truth Lines</a><a id="Truth-Lines-1"></a><a class="docs-heading-anchor-permalink" href="#Truth-Lines" title="Permalink"></a></h2><p>You can quickly add lines to mark particular values of each variable on all subplots using <code>Truth</code>:</p><pre><code class="language-julia hljs">pairplot(
    df,
    PairPlots.Truth(
        (;
            α = [0, 6],
            β = 0,
            γ = 0,
            δ = [-1, 0, +1],
        ),
        label=&quot;Mean Values&quot;
    )
)</code></pre><img src="c874ad28.png" alt="Example block output"/><h2 id="Trend-Lines"><a class="docs-heading-anchor" href="#Trend-Lines">Trend Lines</a><a id="Trend-Lines-1"></a><a class="docs-heading-anchor-permalink" href="#Trend-Lines" title="Permalink"></a></h2><p>You can quickly add a linear trend line to each pair of variables by passing  a trend-line series:</p><pre><code class="language-julia hljs">pairplot(
    df =&gt; (
        PairPlots.Scatter(),
        PairPlots.MarginHist(),
        PairPlots.TrendLine(color=:red), # default is red
    ),
    fullgrid=true
)</code></pre><img src="cfb2d412.png" alt="Example block output"/><h2 id="Customize-Axes"><a class="docs-heading-anchor" href="#Customize-Axes">Customize Axes</a><a id="Customize-Axes-1"></a><a class="docs-heading-anchor-permalink" href="#Customize-Axes" title="Permalink"></a></h2><p>You can customize the axes of the subplots freely in two ways. For these examples, we&#39;ll create a variable that is log-normally distributed.</p><pre><code class="language-julia hljs">dfln = DataFrame(;α, β, γ=10 .^ γ, δ)</code></pre><p>First, you can pass axis parameters for all plots along the diagonal using the <code>diagaxis</code> keyword or all plots below the diagonal using the <code>bodyaxis</code> parameter.</p><p>Turn on grid lines for the body axes:</p><pre><code class="language-julia hljs">pairplot(dfln, bodyaxis=(;xgridvisible=true, ygridvisible=true))</code></pre><img src="f3745f86.png" alt="Example block output"/><p>Apply a pseduo-log scale on the margin plots along the diagonal:</p><pre><code class="language-julia hljs">pairplot(dfln, diagaxis=(;yscale=Makie.pseudolog10, ygridvisible=true))</code></pre><img src="d42d9eb2.png" alt="Example block output"/><p>The second way you can control the axes is by table column. This allows you to customize how an individual variable is presented across the pair plot.</p><p>For example, we can apply a log scale to all axes that the <code>γ</code> variable is plotted against:</p><pre><code class="language-julia hljs">pairplot(
    dfln =&gt; (PairPlots.Scatter(), PairPlots.MarginStepHist()),
    axis=(;
        γ=(;
            scale=log10
        )
    )
)</code></pre><img src="759502bd.png" alt="Example block output"/><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>We do not prefix the attribute with <code>x</code> or <code>y</code>. PairPlots.jl will add the correct prefix as needed.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Log scale variables usually work best with Scatter series. Histogram and contour based series sometimes extend past zero, breaking the scale.</p></div></div><p>There is also special support for setting the axis limits of each variable:</p><pre><code class="language-julia hljs">pairplot(
    dfln =&gt; (PairPlots.Scatter(), PairPlots.MarginStepHist()),
    axis=(;
        α=(;
            lims=(;low=-10, high=+10)
        ),
        γ=(;
            scale=log10
        )
    )
)</code></pre><img src="cb3e02dc.png" alt="Example block output"/><p>This applies the correct limits either to the vertical axis or horizontal axis as appropriate. Note that the parameters <code>low</code> and/or <code>high</code> must be passed as a named tuple.</p><h2 id="Adding-a-title"><a class="docs-heading-anchor" href="#Adding-a-title">Adding a title</a><a id="Adding-a-title-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-a-title" title="Permalink"></a></h2><pre><code class="language-julia hljs">fig = pairplot(df)
Label(fig[0,:], &quot;This is the title!&quot;)
fig</code></pre><img src="5baf5367.png" alt="Example block output"/><h2 id="Layouts"><a class="docs-heading-anchor" href="#Layouts">Layouts</a><a id="Layouts-1"></a><a class="docs-heading-anchor-permalink" href="#Layouts" title="Permalink"></a></h2><p>The <code>pairplot</code> function integrates easily within larger Makie Figures.</p><p>Customizing the figure:</p><pre><code class="language-julia hljs">fig = Figure(size=(400,400))
pairplot(fig[1,1], df =&gt; (PairPlots.Contourf(),))
fig</code></pre><img src="478e6b41.png" alt="Example block output"/><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>If you only need to pass arguments to <code>Figure</code>, for convenience you can use <code>pairplot(df, figure=(;...))</code>.</p></div></div><p>You can plot into one part of a larger figure:</p><pre><code class="language-julia hljs">fig = Figure(size=(800,800))

scatterlines(fig[1,1], randn(40))

pairplot(fig[1,2], df)

lines(fig[2,:], randn(200))


colsize!(fig.layout, 2, 450)
rowsize!(fig.layout, 1, 450)

fig</code></pre><img src="ddc36ef2.png" alt="Example block output"/><p>Adjust the spacing between axes inside a pair plot:</p><pre><code class="language-julia hljs">fig = Figure(size=(600,600))

# Pair Plots must go into a Makie GridLayout. If you pass a GridPosition instead,
# PairPlots will create one for you.
# We can then adjust the spacing within that GridLayout.

gs = GridLayout(fig[1,1])
pairplot(gs, df)

rowgap!(gs, 0)
colgap!(gs, 0)

fig</code></pre><img src="2626f480.png" alt="Example block output"/><h2 id="Multiple-Series"><a class="docs-heading-anchor" href="#Multiple-Series">Multiple Series</a><a id="Multiple-Series-1"></a><a class="docs-heading-anchor-permalink" href="#Multiple-Series" title="Permalink"></a></h2><p>You can plot multiple series by simply passing more than one table to <code>pairplot</code> They don&#39;t have to have all the same column names.</p><pre><code class="language-julia hljs"># The simplest table format is just a named tuple of vectors.
# You can also pass a DataFrame, or any other Tables.jl compatible object.
table1 = (;
    x = randn(10000),
    y = randn(10000),
)

table2 = (;
    x = 1 .+ randn(10000),
    y = 2 .+ randn(10000),
    z = randn(10000),
)

pairplot(table1, table2)</code></pre><img src="6d7d8728.png" alt="Example block output"/><p>You may want to add a legend:</p><pre><code class="language-julia hljs">c1 = Makie.wong_colors(0.5)[1]
c2 = Makie.wong_colors(0.5)[2]

pairplot(
    PairPlots.Series(table1, label=&quot;table 1&quot;, color=c1, strokecolor=c1),
    PairPlots.Series(table2, label=&quot;table 2&quot;, color=c2, strokecolor=c2),
)</code></pre><img src="b23f9fd6.png" alt="Example block output"/><p>You can customize each series independently if you wish.</p><pre><code class="language-julia hljs">pairplot(
    table2 =&gt; (PairPlots.HexBin(colormap=:magma), PairPlots.MarginDensity(color=:orange),  PairPlots.MarginConfidenceLimits(color=:black)),
    table1 =&gt; (PairPlots.Contour(color=:cyan, strokewidth=5),),
)</code></pre><img src="849f2aab.png" alt="Example block output"/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../getting-started/">« Getting Started</a><a class="docs-footer-nextpage" href="../chains/">MCMCChains »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Monday 29 January 2024 18:12">Monday 29 January 2024</span>. Using Julia version 1.11.0-DEV.1400.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
